
<md-toolbar class="md-whiteframe-5dp inner-header">
	<div ng-controller="sideNavCtrl" class="md-toolbar-tools">
		<md-button ng-click="toggle('filterNav');close('editNav');" ng-class="{'selected':isOpen('filterNav')}" class="md-fab md-mini" aria-label="Filters">
			<md-icon>filter_list</md-icon>
		</md-button>
		<md-button ng-click="toggle('editNav');close('filterNav')" ng-class="{'selected':isOpen('editNav')}" class="md-fab md-mini" aria-label="Filters">
			<md-icon>mode_edit</md-icon>
		</md-button>
		<h2>
			<span>{{bestiary.name}}</span>
		</h2>
	</div>
</md-toolbar>

<div layout="column" class="body-area" ng-controller="sideNavCtrl">
	<section class="sidenav-left-wrapper" layout="row" flex>
		<!-- FILTER SIDENAV -->
		<md-sidenav class="md-sidenav-left md-whiteframe-z2" md-is-locked-open="isOpen('filterNav')" md-component-id="filterNav">
		  <md-toolbar class="md-accent">
		  	<div class="md-toolbar-tools">
			    <h1 class="md-toolbar-tools">Filters</h1>
			    <span flex></span>
	        <md-button ng-click="close('filterNav')" class="md-icon-button" aria-label="Favorite">
	          <md-icon>close</md-icon>
	        </md-button>
	      </div>
		  </md-toolbar>
		  <md-content layout-padding>
		    <md-input-container style="width:calc(100% - 16px);">
	        <label style="padding-left:10px;bottom:calc(100% - 5px);">Search by name</label>
	        <input ng-model="creatureFilter.name">
	      </md-input-container>
		  </md-content>
		</md-sidenav>
		<!-- EDIT SIDENAV -->
		<md-sidenav class="md-sidenav-left md-whiteframe-z2 in-frame-sidenav edit-sidenav" md-is-locked-open="isOpen('editNav')" md-component-id="editNav">
		  <md-toolbar class="md-accent">
		  	<div class="md-toolbar-tools">
			    <h1 class="md-toolbar-tools">Edit</h1>
			    <span flex></span>
	        <md-button ng-click="close('editNav')" class="md-icon-button" aria-label="Favorite">
	          <md-icon>close</md-icon>
	        </md-button>
	      </div>
		  </md-toolbar>
		  <md-content layout-padding>
		  	<form ng-submit="saveBestiaryInfo();close('editNav');" name="editBestiaryForm">
			    <md-input-container class="md-block">
		        <label>Name</label>
		        <input ng-model="unsavedBestiary.name" name="name" required md-minlength="1" md-maxlength="30">
		        <div ng-messages="editBestiaryForm.name.$error">
				      <div ng-message="required">This is required.</div>
				      <div ng-message="md-maxlength">The name must be less than 30 characters long.</div>
				      <div ng-message="minlength">The name must be at least 1 character long.</div>
				    </div>
		      </md-input-container>
		      <md-input-container class="md-block">
		        <label>Description</label>
		        <textarea ng-model="bestiary.description"></textarea>
		      </md-input-container>
		      <md-button ng-click="cancelSave();close('editNav');" class="md-raised">Cancel</md-button>
      		<md-button class="md-raised md-primary" type="submit">Save</md-button>
		    </form>
		  </md-content>
		</md-sidenav>

		<md-content style="width:100%;">
			<div class="fallingColumns">
				<div ng-repeat="creature in bestiary.creatures | filter:creatureFilter" style="position:relative;">
					<div class="stat-block-overlay"></div>
					<ng-stat-block size="mini" creature="creature" class="fallingColumnsItem stat-block"></ng-stat-block>
				</div>
				<ng-stat-block ng-repeat="creature in bestiary.creatures | filter:creatureFilter" creature="creature" class="fallingColumnsItem stat-block"></ng-stat-block>
				<ng-stat-block size="preview" ng-repeat="creature in bestiary.creatures | filter:creatureFilter" creature="creature" class="fallingColumnsItem"></ng-stat-block>
				<ng-stat-block size="mini" ng-repeat="creature in bestiary.creatures | filter:creatureFilter" creature="creature" class="fallingColumnsItem"></ng-stat-block>
				<ng-stat-block size="preview" ng-repeat="creature in bestiary.creatures | filter:creatureFilter" creature="creature" class="fallingColumnsItem"></ng-stat-block>
				<ng-stat-block ng-repeat="creature in bestiary.creatures | filter:creatureFilter" creature="creature" class="fallingColumnsItem"></ng-stat-block>
			</div>
		</md-content>
	</section>
</div>
